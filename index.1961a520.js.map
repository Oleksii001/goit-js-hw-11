{"mappings":"AASA,IAAIA,EAAc,EACdC,EAAe,GAEnB,MAAMC,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAiBJ,SAASG,cAAc,cAmB9CE,eAAeC,EAAcC,GAC3B,MAAMC,QA+CRH,eAA2BI,GACzB,IAYE,aAXuBC,MAAMC,IAAI,2BAA4B,CAC3DC,OAAQ,CACNC,IA/EO,qCAgFPC,EAAGL,EACHM,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,KAAMrB,EACNsB,SApFQ,OAuFIX,I,CAChB,MAAOY,GAEP,MADAC,QAAQC,IAAIF,GACNA,C,EA/DWG,CAAYhB,GAE3BC,EAAKgB,KAAKC,OAAS,GACrBjB,EAAKgB,KAAKE,SAAQ,SAAUC,GAC1B,MAAMC,EA2BZ,SAAyBD,GACvB,MAAME,aAAEA,EAAYC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,EAASC,KAAEA,GAASP,EAElE,MAAO,mDAESE,WAAsBK,8FAEKJ,qDACAC,wDACGC,yDACCC,qC,CArC9BE,CAAgBR,GAC7BzB,EAAQkC,mBAAmB,YAAaR,E,IAG1C/B,IAEIA,GAAewC,KAAKC,KAAK9B,EAAK+B,UArCtB,IAsCVnC,EAAeoC,MAAMC,QAAU,SAE/BrC,EAAeoC,MAAMC,QAAU,OAC/BvC,EAAQkC,mBACN,YACA,wEAIgB,IAAhBvC,IACFK,EAAQwC,UAAY,IAEtBtC,EAAeoC,MAAMC,QAAU,OAC/BvC,EAAQkC,mBACN,YACA,mF,CA5CNrC,EAAW4C,iBAAiB,UAAUtC,eAAgBuC,GACpDA,EAAEC,iBACF,MAAMC,EAAc9C,SAASG,cAAc,6BAA6B4C,MAC7C,KAAvBD,EAAYE,SACdlD,EAAegD,EACfjD,EAAc,EACdK,EAAQwC,UAAY,GACpBtC,EAAeoC,MAAMC,QAAU,aAEzBnC,EAAcwC,G,IAIxB1C,EAAeuC,iBAAiB,SAAStC,uBACjCC,EAAcR,E","sources":["src/index.js"],"sourcesContent":["\n      // import axios from 'axios';\n      // import Notiflix from 'notiflix';\n      // import SimpleLightbox from 'simplelightbox';\n      // import 'simplelightbox/dist/simple-lightbox.min.css';\n      // import { fetchPhotos } from 'api-photo.js';\nconst apiKey = '37263308-2603284e2849c610a8b3f752c';\nconst perPage = 40;\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreButton = document.querySelector('.load-more');\n\nsearchForm.addEventListener('submit', async function (e) {\n  e.preventDefault();\n  const searchQuery = document.querySelector('input[name=\"searchQuery\"]').value;\n  if (searchQuery.trim() !== '') {\n    currentQuery = searchQuery;\n    currentPage = 1;\n    gallery.innerHTML = '';\n    loadMoreButton.style.display = 'none';\n    \n    await performSearch(searchQuery);\n  }\n});\n\nloadMoreButton.addEventListener('click', async function () {\n  await performSearch(currentQuery);\n});\n\nasync function performSearch(query) {\n  const data = await fetchPhotos(query);\n\n  if (data.hits.length > 0) {\n    data.hits.forEach(function (image) {\n      const card = createPhotoCard(image);\n      gallery.insertAdjacentHTML('beforeend', card);\n    });\n\n    currentPage++;\n\n    if (currentPage <= Math.ceil(data.totalHits / perPage)) {\n      loadMoreButton.style.display = 'block';\n    } else {\n      loadMoreButton.style.display = 'none';\n      gallery.insertAdjacentHTML(\n        'beforeend',\n        \"<p>We're sorry, but you've reached the end of search results.</p>\"\n      );\n    }\n  } else {\n    if (currentPage === 1) {\n      gallery.innerHTML = '';\n    }\n    loadMoreButton.style.display = 'none';\n    gallery.insertAdjacentHTML(\n      'beforeend',\n      `<p>Sorry, there are no images matching your search query. Please try again.</p>`              \n    );\n  }\n}\n\nfunction createPhotoCard(image) {\n  const { webformatURL, likes, views, comments, downloads, tags } = image;\n\n  return `\n    <div class=\"photo-card\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n      </div>\n    </div>\n  `;\n}\n\nasync function fetchPhotos(inputValue) {\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: apiKey,\n        q: inputValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: currentPage,\n        per_page: perPage\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$currentQuery","$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreButton","async","$1f0dc3b9307be026$var$performSearch","query","data","inputValue","axios","get","params","key","q","image_type","orientation","safesearch","page","per_page","error","console","log","$1f0dc3b9307be026$var$fetchPhotos","hits","length","forEach","image","card","webformatURL","likes","views","comments","downloads","tags","$1f0dc3b9307be026$var$createPhotoCard","insertAdjacentHTML","Math","ceil","totalHits","style","display","innerHTML","addEventListener","e","preventDefault","searchQuery","value","trim"],"version":3,"file":"index.1961a520.js.map"}